<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VectSharp: VectSharp: a light library for C# vector graphics</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="Doxy.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VectSharp
   &#160;<span id="projectnumber">1.7.0</span>
   </div>
   <div id="projectbrief">A light library for C# vector graphics</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="namespace_vect_sharp.html">VectSharp</a>: a light library for C# vector graphics </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_Readme"></a> <img src="icon.svg" alt="" style="pointer-events: none;" width="256" align="right" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Introduction</h1>
<p><b><a class="el" href="namespace_vect_sharp.html">VectSharp</a></b> is a library to create vector graphics (including text) in C#, without too many dependencies.</p>
<p>It includes an abstract layer on top of which output layers can be written. Currently, there are four available output layers: <b><a class="el" href="namespace_vect_sharp_1_1_p_d_f.html">VectSharp.PDF</a></b> produces PDF documents, <b><a class="el" href="namespace_vect_sharp_1_1_canvas.html">VectSharp.Canvas</a></b> produces an <code>Avalonia.Controls.Canvas</code> object (<a href="https://avaloniaui.net/docs/controls/canvas">https://avaloniaui.net/docs/controls/canvas</a>) containing the rendered graphics objects, <b><a class="el" href="namespace_vect_sharp_1_1_raster.html">VectSharp.Raster</a></b> produces raster images in PNG format, and <b><a class="el" href="namespace_vect_sharp_1_1_s_v_g.html">VectSharp.SVG</a></b> produces vector graphics in SVG format.</p>
<p><a href="https://github.com/arklumpus/VectSharp/tree/master/VectSharp.ThreeD"><b>VectSharp.ThreeD</b></a> adds support for 3D vector and raster graphics.</p>
<p><a href="https://github.com/arklumpus/VectSharp/tree/master/VectSharp.Markdown"><b>VectSharp.Markdown</b></a> can be used to transform Markdown documents into <a class="el" href="namespace_vect_sharp.html">VectSharp</a> objects, that can then be exported e.g. as PDF or SVG files, or displayed in an Avalonia <code>Canvas</code>.</p>
<p><a class="el" href="namespace_vect_sharp.html">VectSharp</a> is written using .NET Core, and is available for Mac, Windows and Linux. It is released under a GPLv3 license. It includes 14 standard fonts, also released under a GPL license.</p>
<p>Since version 2.0.0, <a class="el" href="namespace_vect_sharp_1_1_raster.html">VectSharp.Raster</a> is released under an AGPLv3 license.</p>
<p><b><a class="el" href="namespace_vect_sharp_1_1_mu_p_d_f_utils.html">VectSharp.MuPDFUtils</a></b>, also released under an AGPLv3 license, contains some utility functions that use <a href="https://github.com/arklumpus/MuPDFCore">MuPDFCore</a> to make it possible to include in <a class="el" href="namespace_vect_sharp.html">VectSharp</a> graphics images in various formats.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Installing VectSharp</h1>
<p>To include <a class="el" href="namespace_vect_sharp.html">VectSharp</a> in your project, you will need one of the output layer NuGet packages: <a href="https://www.nuget.org/packages/VectSharp.PDF/">VectSharp.PDF</a>, <a href="https://www.nuget.org/packages/VectSharp.Canvas/">VectSharp.Canvas</a>, <a href="https://www.nuget.org/packages/VectSharp.Raster/">VectSharp.Raster</a>, or <a href="https://www.nuget.org/packages/VectSharp.SVG/">VectSharp.SVG</a>. You will need <a href="https://www.nuget.org/packages/VectSharp.ThreeD/">VectSharp.ThreeD</a> to work with 3D graphics. You may want the <a href="https://www.nuget.org/packages/VectSharp.MuPDFUtils/">VectSharp.MuPDFUtils</a> package if you wish to manipulate raster images.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Usage</h1>
<p>You can find the full documentation for the <a class="el" href="namespace_vect_sharp.html">VectSharp</a> library at the <a href="https://arklumpus.github.io/VectSharp">documentation website</a>. A <a href="https://arklumpus.github.io/VectSharp/VectSharp.pdf">PDF reference manual</a> is also available.</p>
<p>In general, working with <a class="el" href="namespace_vect_sharp.html">VectSharp</a> involves: creating a <code>Document</code>, adding <code>Page</code>s, drawing to the <code>Page</code>s' <code>Graphics</code> objects and, finally, exporting them to a PDF document, <code>Canvas</code>, PNG image or SVG document.</p>
<ul>
<li>Create a <code>Document</code>: <div class="fragment"><div class="line">using VectSharp;</div>
<div class="line">// ...</div>
<div class="line">Document doc = new Document();</div>
</div><!-- fragment --></li>
<li>Add a <code>Page</code>: <div class="fragment"><div class="line">doc.Pages.Add(new Page(1000, 1000));</div>
</div><!-- fragment --></li>
<li>Draw to the <code>Page</code>'s <code>Graphics</code> object: <div class="fragment"><div class="line">Graphics gpr = doc.Pages.Last().Graphics;</div>
<div class="line">gpr.FillRectangle(100, 100, 800, 800, Colour.FromRgb(128, 128, 128));</div>
</div><!-- fragment --></li>
<li>Save as PDF document: <div class="fragment"><div class="line">using VectSharp.PDF;</div>
<div class="line">//...</div>
<div class="line">doc.SaveAsPDF(@&quot;Sample.pdf&quot;);</div>
</div><!-- fragment --></li>
<li>Export the graphics to a <code>Canvas</code>: <div class="fragment"><div class="line">using VectSharp.Canvas;</div>
<div class="line">//...</div>
<div class="line">Avalonia.Controls.Canvas can = doc.Pages.Last().PaintToCanvas();</div>
</div><!-- fragment --></li>
<li>Save as a PNG image: <div class="fragment"><div class="line">using VectSharp.Raster;</div>
<div class="line">//...</div>
<div class="line">doc.Pages.Last().SaveAsPNG(@&quot;Sample.png&quot;);</div>
</div><!-- fragment --></li>
<li>Save as an SVG document: <div class="fragment"><div class="line">using VectSharp.SVG;</div>
<div class="line">//...</div>
<div class="line">doc.Pages.Last().SaveAsSVG(@&quot;Sample.svg&quot;);</div>
</div><!-- fragment --></li>
<li>PDF and SVG documents support both internal and external links: <div class="fragment"><div class="line">using VectSharp;</div>
<div class="line">using VectSharp.PDF;</div>
<div class="line">using VectSharp.SVG;</div>
<div class="line">//...</div>
<div class="line">Document document = new Document();</div>
<div class="line">Page page = new Page(1000, 1000);</div>
<div class="line">document.Pages.Add(page);</div>
<div class="line"> </div>
<div class="line">page.Graphics.FillRectangle(100, 100, 800, 50, Colour.FromRgb(128, 128, 128), tag: &quot;linkToGitHub&quot;);</div>
<div class="line">page.Graphics.FillRectangle(100, 300, 800, 50, Colour.FromRgb(255, 0, 0), tag: &quot;linkToBlueRectangle&quot;);</div>
<div class="line">page.Graphics.FillRectangle(100, 850, 800, 50, Colour.FromRgb(0, 0, 255), tag: &quot;blueRectangle&quot;);</div>
<div class="line"> </div>
<div class="line">Dictionary&lt;string, string&gt; links = new Dictionary&lt;string, string&gt;() { { &quot;linkToGitHub&quot;, &quot;https://github.com/&quot; }, { &quot;linkToBlueRectangle&quot;, &quot;#blueRectangle&quot; } };</div>
<div class="line"> </div>
<div class="line">page.SaveAsSVG(@&quot;Links.svg&quot;, linkDestinations: links);</div>
<div class="line">document.SaveAsPDF(@&quot;Links.pdf&quot;, linkDestinations: links);</div>
</div><!-- fragment --></li>
</ul>
<p>This code produces a document with three rectangles: the grey one at the top links to the GitHub home page, while the red one in the middle is a hyperlink to the blue one at the bottom. Links in PDF documents can refer to objects that are in a different page than the one containing the link.</p>
<p>The public classes and methods are <a href="https://arklumpus.github.io/VectSharp">fully documented</a>, and you can find a (much) more detailed code example in <a href="https://github.com/arklumpus/VectSharp/blob/master/VectSharp.Demo/MainWindow.xaml.cs">MainWindow.xaml.cs</a>. A detailed guide about 3D graphics in <a class="el" href="namespace_vect_sharp_1_1_three_d.html">VectSharp.ThreeD</a> is available in the <a href="https://github.com/arklumpus/VectSharp/tree/master/VectSharp.ThreeD"><code>VectSharp.ThreeD</code></a> folder.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Creating new output layers</h1>
<p><a class="el" href="namespace_vect_sharp.html">VectSharp</a> can be easily extended to provide additional output layers. To do so:</p><ol type="1">
<li>Create a new class implementing the <code>IGraphicsContext</code> interface.</li>
<li>Provide an extension method to either the <code>Page</code> or <code>Document</code> types.</li>
<li>Somewhere in the extension method, call the <code>CopyToIGraphicsContext</code> method on the <code>Graphics</code> object of the <code>Page</code>s.</li>
<li>Opportunely save or return the rendered result.</li>
</ol>
<h1><a class="anchor" id="autotoc_md5"></a>
Compiling VectSharp from source</h1>
<p>The <a class="el" href="namespace_vect_sharp.html">VectSharp</a> source code includes an example project (<em>VectSharp.Demo</em>) presenting how <a class="el" href="namespace_vect_sharp.html">VectSharp</a> can be used to produce graphics.</p>
<p>To be able to compile <a class="el" href="namespace_vect_sharp.html">VectSharp</a> from source, you will need to install the latest <a href="https://dotnet.microsoft.com/download/dotnet/current">.NET SDK</a> for your operating system.</p>
<p>You can use <a href="https://visualstudio.microsoft.com/it/vs/">Microsoft Visual Studio</a> to compile the program. The following instructions will cover compiling <a class="el" href="namespace_vect_sharp.html">VectSharp</a> from the command line, instead.</p>
<p>First of all, you will need to download the <a class="el" href="namespace_vect_sharp.html">VectSharp</a> source code: <a href="https://github.com/arklumpus/VectSharp/archive/v1.7.0.tar.gz">VectSharp.tar.gz</a> and extract it somewhere.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Windows</h2>
<p>Open a command-line window in the folder where you have extracted the source code, and type: </p><pre class="fragment">BuildDemo &lt;Target&gt;
</pre><p>Where <code>&lt;Target&gt;</code> can be one of <code>Win-x64</code>, <code>Linux-x64</code> or <code>Mac-x64</code> depending on which platform you wish to generate executables for.</p>
<p>In the Release folder and in the appropriate subfolder for the target platform you selected, you will find the compiled program.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
macOS and Linux</h2>
<p>Open a terminal in the folder where you have extracted the source code, and type: </p><pre class="fragment">./BuildDemo.sh &lt;Target&gt;
</pre><p>Where <code>&lt;Target&gt;</code> can be one of <code>Win-x64</code>, <code>Linux-x64</code> or <code>Mac-x64</code> depending on which platform you wish to generate executables for.</p>
<p>In the Release folder and in the appropriate subfolder for the target platform you selected, you will find the compiled program.</p>
<p>If you receive an error about permissions being denied, try typing <code>chmod +x BuildDemo.sh</code> first.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Note about VectSharp.MuPDFUtils and .NET Framework</h1>
<p>If you wish to use <a class="el" href="namespace_vect_sharp_1_1_mu_p_d_f_utils.html">VectSharp.MuPDFUtils</a> in a .NET Framework project, you will need to manually copy the native MuPDFWrapper library for the platform you are using to the executable directory (this is done automatically if you target .NET core).</p>
<p>One way to obtain the appropriate library files is:</p>
<ol type="1">
<li>Manually download the NuGet package for <a href="https://www.nuget.org/packages/MuPDFCore/">MuPFDCore</a> (click on the "Download package" link on the right).</li>
<li>Rename the <code>.nupkg</code> file so that it has a <code>.zip</code> extension.</li>
<li>Extract the zip file.</li>
<li>Within the extracted folder, the library files are in the <code>runtimes/xxx-x64/native/</code> folder, where <code>xxx</code> is either <code>linux</code>, <code>osx</code> or <code>win</code>, depending on the platform you are using.</li>
</ol>
<p>Make sure you copy the appropriate file to the same folder as the executable! </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
